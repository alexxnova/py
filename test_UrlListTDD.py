import pytest
from bs4 import BeautifulSoup
from module.web_scraper import UrlList

@pytest.fixture
def urllist():
    test_url = "https://pateshestvenik.com/"
    return UrlList(test_url,20)
    
def test_create_soup(urllist):
    test_url = "https://pateshestvenik.com/"
    assert isinstance(urllist.create_soup(test_url), BeautifulSoup)
    
def test_get_nextPageUrl(urllist):
    test_url = "https://pateshestvenik.com/page/2/"
    assert urllist.get_nextPageUrl() == test_url

def test_create_url_list(urllist):
    test_list = ["https://pateshestvenik.com/%d1%80%d0%b5%d0%b7%d0%b5%d1%80%d0%b2%d0%b8%d1%80%d0%b0%d0%bc%d0%b5-%d1%85%d0%be%d1%82%d0%b5%d0%bb%d1%81%d0%ba%d0%b8-%d1%83%d1%81%d0%bb%d1%83%d0%b3%d0%b8-%d0%b8-%d0%b5%d0%ba%d1%81%d0%ba%d1%83%d1%80/","https://pateshestvenik.com/%d0%b4%d0%b5%d1%81%d0%b5%d1%82-%d0%bb%d1%8e%d0%b1%d0%be%d0%bf%d0%b8%d1%82%d0%bd%d0%b8-%d1%82%d1%83%d1%80%d0%b8%d1%81%d1%82%d0%b8%d1%87%d0%b5%d1%81%d0%ba%d0%b8-%d0%b4%d0%b5%d1%81%d1%82%d0%b8%d0%bd/","https://pateshestvenik.com/%d1%87%d0%b5%d0%ba-%d0%bb%d0%b8%d1%81%d1%82-%d0%b7%d0%b0-%d0%ba%d1%80%d0%b0%d1%82%d0%ba%d0%be-%d0%bf%d1%8a%d1%82%d1%83%d0%b2%d0%b0%d0%bd%d0%b5-%d0%ba%d0%b0%d0%ba%d0%b2%d0%be-%d0%bd%d0%b5-%d0%b1%d0%b8/","https://pateshestvenik.com/%d0%b4%d0%be%d0%bc%d0%b8%d0%bd%d0%b8%d0%ba%d0%b0%d0%bd%d0%b0-e-%d0%bd%d0%be%d0%b2%d0%b0%d1%82%d0%b0-%d0%b3%d0%be%d1%80%d0%b5%d1%89%d0%b0-%d0%b4%d0%b5%d1%81%d1%82%d0%b8%d0%bd%d0%b0%d1%86%d0%b8%d1%8f/","https://pateshestvenik.com/%d0%bf%d1%80%d0%be%d0%b3%d0%bd%d0%be%d0%b7%d0%b8-%d0%b7%d0%b0-%d1%82%d1%83%d1%80%d0%b8%d0%b7%d0%bc%d0%b0-%d0%b2-%d0%bf%d0%be%d1%81%d1%82-%d0%ba%d0%be%d0%b2%d0%b8%d0%b4-%d0%b5%d1%80%d0%b0%d1%82%d0%b0/","https://pateshestvenik.com/%d0%bc%d0%b0%d0%bb%d0%b4%d0%b8%d0%b2%d0%b8-%d0%b8%d0%bb%d0%b8-%d0%b7%d0%b0%d0%bd%d0%b7%d0%b8%d0%b1%d0%b0%d1%80/","https://pateshestvenik.com/%d0%bf%d0%bb%d0%b0%d1%82%d1%84%d0%be%d1%80%d0%bc%d0%b0%d1%82%d0%b0-%d0%b7%d0%b0-%d0%b4%d0%b8%d0%b3%d0%b8%d1%82%d0%b0%d0%bb%d0%b8%d0%b7%d0%b0%d1%86%d0%b8%d1%8f-%d0%bd%d0%b0-%d0%b7%d0%b0%d0%b2%d0%b5/","https://pateshestvenik.com/%d0%bf%d0%b0%d0%bc%d0%bf%d0%be%d1%80%d0%be%d0%b2%d0%be-%d1%81%d0%ba%d0%b8-%d0%b7%d0%be%d0%bd%d0%b0/","https://pateshestvenik.com/%d0%b1%d1%8a%d0%bb%d0%b3%d0%b0%d1%80%d0%b8%d1%82%d0%b5-%d0%bf%d1%80%d0%be%d0%b4%d1%8a%d0%bb%d0%b6%d0%b0%d0%b2%d0%b0%d1%82-%d0%b4%d0%b0-%d0%bf%d1%8a%d1%82%d1%83%d0%b2%d0%b0%d1%82-%d0%b0%d0%ba%d1%82/","https://pateshestvenik.com/%d0%ba%d0%b0%d0%ba-%d0%b4%d0%b0-%d1%81%d0%b8-%d0%bf%d0%be%d0%b4%d0%b1%d0%b5%d1%80%d0%b5%d0%bc-%d0%ba%d0%b0%d1%87%d0%b5%d1%81%d1%82%d0%b2%d0%b5%d0%bd-%d1%84%d0%b5%d0%bd%d0%b5%d1%80-%d0%b7%d0%b0-%d1%82/","https://pateshestvenik.com/%d0%b0%d0%b7-%d0%ba%d0%bd%d0%b8%d0%b3%d0%b0%d1%82%d0%b0-%d0%b8%d0%bb%d0%b8-%d0%bd%d0%b5%d0%be%d0%b1%d0%b8%d0%ba%d0%bd%d0%be%d0%b2%d0%b5%d0%bd%d0%b8%d1%8f%d1%82-%d1%80%d0%b0%d0%b7%d0%ba%d0%b0%d0%b7/","https://pateshestvenik.com/%d1%83%d1%87%d0%b0%d1%81%d1%82%d0%b2%d0%b0%d0%b9%d1%82%d0%b5-%d0%b2-%d0%b8%d0%b3%d1%80%d0%b0%d1%82%d0%b0-%d0%bd%d0%b0-varta-%d0%b8-pixelmedia-bg/","https://pateshestvenik.com/%d0%bf%d1%8a%d1%82%d1%83%d0%b2%d0%b0%d0%bd%d0%b5-%d0%ba%d0%be%d1%80%d0%b0%d0%bd%d0%be%d0%b2%d0%b8%d1%80%d1%83%d1%81/","https://pateshestvenik.com/%d0%bb%d1%8e%d0%b1%d0%be%d0%bf%d0%b8%d1%82%d0%bd%d0%b8-%d1%84%d0%b0%d0%ba%d1%82%d0%b8-%d0%b7%d0%b0-%d0%bd%d0%b8%d0%ba%d1%83%d0%bb%d0%b4%d0%b5%d0%bd-%d0%b8-%d0%bf%d0%be%d0%bb%d0%b5%d0%b7%d0%bd%d0%b8/","https://pateshestvenik.com/luxury-discounts-%d0%b0%d0%ba%d1%86%d0%b5%d0%bd%d1%82%d0%b8%d1%80%d0%b0-%d0%bd%d0%b0-%d0%b1%d0%b5%d0%b7%d0%be%d0%bf%d0%b0%d1%81%d0%bd%d0%be%d1%81%d1%82%d1%82%d0%b0-%d0%b2-%d1%85%d0%be%d1%82%d0%b5/","https://pateshestvenik.com/%d0%ba%d0%be%d0%bd%d1%81%d1%83%d0%bc%d0%b0%d1%86%d0%b8%d1%8f%d1%82%d0%b0-%d0%bd%d0%b0-%d0%b0%d0%b7%d0%b8%d0%b0%d1%82%d1%81%d0%ba%d0%b0-%d1%85%d1%80%d0%b0%d0%bd%d0%b0/","https://pateshestvenik.com/%d0%b4%d0%b8%d0%b3%d0%b8%d1%82%d0%b0%d0%bb%d0%bd%d0%b0-%d0%bf%d0%bb%d0%b0%d1%82%d1%84%d0%be%d1%80%d0%bc%d0%b0-%d0%bf%d0%be%d0%bc%d0%b0%d0%b3%d0%b0-%d0%bd%d0%b0-%d0%b1%d1%8a%d0%bb%d0%b3%d0%b0%d1%80/","https://pateshestvenik.com/%d1%80%d0%b5%d0%b2%d1%8e-%d0%bd%d0%b0-%d1%87%d0%b5%d0%bb%d0%bd%d0%b8%d0%ba-%d0%b7%d0%b0-%d1%81%d0%bf%d0%be%d1%80%d1%82-%d0%bd%d0%b0-%d0%be%d1%82%d0%ba%d1%80%d0%b8%d1%82%d0%be-varta-outdoor-sports-ultr/","https://pateshestvenik.com/%d0%bd%d1%8f%d0%ba%d0%be%d0%bb%d0%ba%d0%be-%d0%b8%d0%bd%d1%82%d0%b5%d1%80%d0%b5%d1%81%d0%bd%d0%b8-%d0%b8%d0%b4%d0%b5%d0%b8-%d0%b7%d0%b0-%d1%82%d1%83%d1%80%d0%b8%d0%b7%d1%8a%d0%bc-%d0%b2-%d0%b1%d1%8a/","https://pateshestvenik.com/%d0%ba%d0%b0%d0%ba-%d0%b4%d0%b0-%d0%be%d1%81%d1%82%d0%b0%d0%bd%d0%b5%d0%bc-%d0%b7%d0%b4%d1%80%d0%b0%d0%b2%d0%b8-%d0%bf%d0%be-%d0%b2%d1%80%d0%b5%d0%bc%d0%b5-%d0%bd%d0%b0-%d0%bf%d1%8a%d1%82%d1%83%d0%b2/"]
    assert urllist.create_url_list() == test_list